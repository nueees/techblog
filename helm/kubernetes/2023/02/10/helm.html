<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Helm</h1><p class="page-description">Exporter, PromQL, Operator</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2023-02-10T00:00:00-06:00" itemprop="datePublished">
        Feb 10, 2023
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      8 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/techblog/categories/#helm">helm</a>
        &nbsp;
      
        <a class="category-tags-link" href="/techblog/categories/#kubernetes">kubernetes</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="https://medium.com/swlh/how-to-declaratively-run-helm-charts-using-helmfile-ac78572e6088">how-to-declaratively-run-helm-charts-using-helmfile</a></p>

<hr />

<h1 id="1-helm">1. Helm</h1>
<p>kubernetes의 package manager<br />
기존 kubectl 명령어로는 여러개의 yaml 파일 생성 관리해야 하는데 helm이 Charts로 묶어서 관리하게 함</p>

<h2 id="11-helm-install">1.1. <a href="https://helm.sh/docs/intro/install/">Helm Install</a></h2>
<p>helm 설치</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] brew install helm
</code></pre></div></div>

<h2 id="12-chart-repository-가져오기">1.2. <a href="https://helm.sh/docs/topics/chart_repository/">Chart Repository</a> 가져오기</h2>
<p><a href="https://charts.bitnami.com/bitnami">Bitnami Chart Repository</a> 추가</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm repo add my-repo https://charts.bitnami.com/bitnami
] kubectl create ns metircs # namespace 생성
</code></pre></div></div>

<h2 id="13-repository에서-chart-가져오기">1.3. Repository에서 Chart 가져오기</h2>
<p><a href="https://artifacthub.io/packages/helm/bitnami/kube-state-metrics">kube-state-metrics</a>: Kubernetes API server and objects의 상태값 메트릭으로 생성</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm install kube-state-metrics my-repo/kube-state-metrics -n metrics # helm chart 추가
] helm ls -n metrics
NAME                    NAMESPACE       REVISION        UPDATED                                 STATUS          CHART                          APP VERSION
kube-state-metrics      metrics         1               2023-02-09 11:53:54.2417933 +0100 CET   deployed        kube-state-metrics-3.2.8       2.7.0

] kubectl get po -o wide
] kubectl get all -n metrics
NAME                                      READY   STATUS    RESTARTS   AGE
pod/kube-state-metrics-647765674c-2gl2n   1/1     Running   0          179m
NAME                         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE
service/kube-state-metrics   ClusterIP   10.111.131.223   &lt;none&gt;        8080/TCP   179m
NAME                                 READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/kube-state-metrics   1/1     1            1           179m
NAME                                            DESIRED   CURRENT   READY   AGE
replicaset.apps/kube-state-metrics-647765674c   1         1         1       179m

] kubectl logs pod/kube-state-metrics-647765674c-2gl2n -n metrics
I0209 10:53:55.686419       1 wrapper.go:78] Starting kube-state-metrics
I0209 10:53:55.686869       1 server.go:138] "Used resources" resources="certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,volumeattachments"
I0209 10:53:55.686904       1 types.go:184] "Using all namespaces"
I0209 10:53:55.686924       1 server.go:166] "Metric allow-denylisting" allowDenyStatus="Excluding the following lists that were on denylist: "
W0209 10:53:55.686986       1 client_config.go:617] Neither --kubeconfig nor --master was specified.  Using the inClusterConfig.  This might not work.
I0209 10:53:55.687305       1 server.go:311] "Tested communication with server"
I0209 10:53:55.696886       1 server.go:316] "Run with Kubernetes cluster version" major="1" minor="24" gitVersion="v1.24.0" gitTreeState="clean" gitCommit="4ce5a8954017644c5420bae81d72b09b735c21f0" platform="linux/amd64"
I0209 10:53:55.696909       1 server.go:317] "Communication with server successful"
I0209 10:53:55.697032       1 server.go:263] "Started metrics server" metricsServerAddress="[::]:8080"
I0209 10:53:55.697104       1 metrics_handler.go:97] "Autosharding disabled"
I0209 10:53:55.697132       1 server.go:252] "Started kube-state-metrics self metrics server" telemetryAddress="[::]:8081"
I0209 10:53:55.697252       1 server.go:69] levelinfomsgListening onaddress[::]:8080
I0209 10:53:55.697284       1 server.go:69] levelinfomsgTLS is disabled.http2falseaddress[::]:8080
I0209 10:53:55.697410       1 server.go:69] levelinfomsgListening onaddress[::]:8081
I0209 10:53:55.697440       1 server.go:69] levelinfomsgTLS is disabled.http2falseaddress[::]:8081
I0209 10:53:55.699392       1 builder.go:257] "Active resources" activeStoreNames="certificatesigningrequests,configmaps,cronjobs,daemonsets,deployments,endpoints,horizontalpodautoscalers,ingresses,jobs,limitranges,mutatingwebhookconfigurations,namespaces,networkpolicies,nodes,persistentvolumeclaims,persistentvolumes,poddisruptionbudgets,pods,replicasets,replicationcontrollers,resourcequotas,secrets,services,statefulsets,storageclasses,volumeattachments"

] kubectl port-forward svc/kube-state-metrics 8080:8080 -n metrics # WebUI로 해당 k8s metrics 확인 가능
</code></pre></div></div>

<hr />

<h1 id="2-helm-custumizing">2. Helm Custumizing</h1>

<h2 id="21-chart-열어보기">2.1. Chart 열어보기</h2>

<h3 id="기본적인-chart-정보">기본적인 chart 정보</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm show chart my-repo/kube-state-metrics
annotations:
  category: Analytics
  licenses: Apache-2.0
apiVersion: v2
appVersion: 2.7.0
dependencies:
- name: common
  repository: https://charts.bitnami.com/bitnami
  tags:
  - bitnami-common
  version: 2.x.x
description: kube-state-metrics is a simple service that listens to the Kubernetes
  API server and generates metrics about the state of the objects.
home: https://github.com/bitnami/charts/tree/main/bitnami/kube-state-metrics
icon: https://bitnami.com/assets/stacks/kube-state-metrics/img/kube-state-metrics-stack-220x234.png
keywords:
- prometheus
- kube-state-metrics
- monitoring
maintainers:
- name: Bitnami
  url: https://github.com/bitnami/charts
name: kube-state-metrics
sources:
- https://github.com/bitnami/containers/tree/main/bitnami/kube-state-metrics
- https://github.com/kubernetes/kube-state-metrics
version: 3.2.8
</code></pre></div></div>

<h3 id="필요한-value정보들">필요한 value정보들</h3>
<p>변수삽입 문법을 사용하여 values.yaml 파일안의 값들을 templates 폴더안의 각종 리소스의 변수로 지정</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm show values my-repo/kube-state-metric &gt; values.yaml
image:
  registry: docker.io
  repository: bitnami/kube-state-metrics
  tag: 2.7.0-debian-11-r21
imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""
kubeResources:
  configmaps: true
  cronjobs: true
  daemonsets: true
  deployments: true
  endpoints: true
  ingresses: true
  jobs: true
  namespaces: true
  nodes: true
  persistentvolumeclaims: true
  persistentvolumes: true
  pods: true
  replicasets: true
  replicationcontrollers: true
  secrets: true
  services: true
  statefulsets: true
  storageclasses: true
service:
  type: ClusterIP
  ports:
    http: 8080
  nodePorts:
    http: ""
  clusterIP: ""
...
resources:
  limits: {}
  requests: {}
replicaCount: 1
podAnnotations: {}
nodeSelector: {}
...
livenessProbe:
  enabled: true
  initialDelaySeconds: 120
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 6
  successThreshold: 1
...
</code></pre></div></div>

<h3 id="install-시-set으로-지정가능">install 시 set으로 지정가능</h3>
<p>f, set 옵션을 사용하여 values 의 변수 우선순위를 지정 가능<br />
마지막 명시한 걸로 덮어씀</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm install --set foo=bar --set foo=newbar  myredis ./redis
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm install -f myvalues.yaml -f override.yaml  myredis ./redis
</code></pre></div></div>

<p>–set(key=value) -&gt; -f (yaml file) -&gt; values.yaml 우측으로 갈수록 우선순위가 낮음</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm install kube-state-metrics my-repo/kube-state-metrics -n metrics \
--set configMapData.log.level=debug \
--set kubeResources.cronjobs=false \
-f values_dev.yaml 
</code></pre></div></div>

<h3 id="clean-up">Clean up</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm delete kube-state-metrics
] kubectl delete ns metrics
</code></pre></div></div>

<h2 id="22-chart-생성">2.2. Chart 생성</h2>

<h3 id="기본적인-chart-모델로-boilerplate-생성">기본적인 chart 모델로 boilerplate 생성</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm create first-chart
</code></pre></div></div>

<h3 id="templetes-폴더-내-configmapyaml-추가-후-install">templetes 폴더 내 configmap.yaml 추가 후 install</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: first-chart-configmap
data:
  port: "8080"
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm install first-chart .
] kubectl get cm
NAME                    DATA   AGE
first-chart-configmap   1      8s
kube-root-ca.crt        1      7h9m

] kubectl describe configmap first-chart-configmap
Name:         first-chart-configmap
Namespace:    default
Labels:       app.kubernetes.io/managed-by=Helm
Annotations:  meta.helm.sh/release-name: first-chart
              meta.helm.sh/release-namespace: default
Data
====
port:
----
8080
BinaryData
</code></pre></div></div>

<h2 id="23-chart-수정">2.3. Chart 수정</h2>

<h3 id="templetes-폴더-내-configmapyaml-수정-후-upgrade">templetes 폴더 내 configmap.yaml 수정 후 upgrade</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: first-chart-configmap
data:
  port: "8080"
  allowTesting: "true"

] helm template first-chart . # 변경 내용 확인
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm upgrade first-chart .
Release "first-chart" has been upgraded. Happy Helming!
NAME: first-chart
LAST DEPLOYED: Sun Feb 12 12:06:14 2023
NAMESPACE: default
STATUS: deployed
REVISION: 2
TEST SUITE: None

] kubectl describe configmap first-chart-configmap # allowTesting 값 확인
Name:         first-chart-configmap
Namespace:    default
Labels:       app.kubernetes.io/managed-by=Helm
Annotations:  meta.helm.sh/release-name: first-chart
              meta.helm.sh/release-namespace: default
Data
====
allowTesting:
----
true
port:
----
8080
BinaryData
====
Events:  &lt;none&gt;
</code></pre></div></div>

<h3 id="templetes-폴더-내-secretyaml-추가-후-upgrade">templetes 폴더 내 secret.yaml 추가 후 upgrade</h3>

<p>먼저 admin 정보의 base64 encoding값 확인</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] echo -n 'admin' | base64
YWRtaW4=
] echo -n '4w572$9sns1&amp;!' | base64
NHc1NzIkOXNuczEmIQ==
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># secret.yaml 
apiVersion: v1
kind: Secret
metadata:
  name: first-secret
type: Opaque
data:
  username: YWRtaW4=  # 'admin' encoding한 값
  password: NHc1NzIkOXNuczEmIQ== # '4w572$9sns1&amp;!' encoding한 값

] helm template first-chart . # secret 추가 내용 확인
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm upgrade first-chart .
Release "first-chart" has been upgraded. Happy Helming!
NAME: first-chart
LAST DEPLOYED: Sun Feb 12 12:17:33 2023
NAMESPACE: default
STATUS: deployed
REVISION: 3
TEST SUITE: None

] kubectl get secrets
NAME                                TYPE                 DATA   AGE
first-secret                        Opaque               2      2m1s
sh.helm.release.v1.first-chart.v1   helm.sh/release.v1   1      2d18h
sh.helm.release.v1.first-chart.v2   helm.sh/release.v1   1      13m
sh.helm.release.v1.first-chart.v3   helm.sh/release.v1   1      2m1s

] kubectl describe secret first-secret # secrets 값 확인
Name:         first-secret
Namespace:    default
Labels:       app.kubernetes.io/managed-by=Helm
Annotations:  meta.helm.sh/release-name: first-chart
              meta.helm.sh/release-namespace: default
Type:  Opaque
Data
====
password:  13 bytes
username:  5 bytes
</code></pre></div></div>

<hr />

<h2 id="24-rollback-a-helm-release">2.4. Rollback a Helm release</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] helm history first-chart
REVISION        UPDATED                         STATUS          CHART                   APP VERSION     DESCRIPTION     
1               Thu Feb  9 17:46:16 2023        superseded      first-chart-0.1.0       1.16.0          Install complete    
2               Sun Feb 12 12:06:14 2023        superseded      first-chart-0.1.0       1.16.0          Upgrade complete    
3               Sun Feb 12 12:17:33 2023        deployed        first-chart-0.1.0       1.16.0          Upgrade complete    

] helm rollback first-chart 2
Rollback was a success! Happy Helming!

] helm history first-chart
REVISION        UPDATED                         STATUS          CHART                   APP VERSION     DESCRIPTION     
1               Thu Feb  9 17:46:16 2023        superseded      first-chart-0.1.0       1.16.0          Install complete    
2               Sun Feb 12 12:06:14 2023        superseded      first-chart-0.1.0       1.16.0          Upgrade complete    
3               Sun Feb 12 12:17:33 2023        superseded      first-chart-0.1.0       1.16.0          Upgrade complete    
4               Sun Feb 12 12:23:39 2023        superseded      first-chart-0.1.0       1.16.0          Rollback to 2       
5               Sun Feb 12 12:24:26 2023        deployed        first-chart-0.1.0       1.16.0          Rollback to 2       
</code></pre></div></div>

<hr />

<h1 id="3-dynamically-configmap-관리하기">3. dynamically ConfigMap 관리하기</h1>

<h2 id="31-mapping-chart-value">3.1. mapping Chart value</h2>
<h3 id="templetes-폴더-내-configmapyaml-수정-후-upgrade-1">templetes 폴더 내 configmap.yaml 수정 후 upgrade</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: first-chart-configmap-
data:
  port: "8080"

] kubectl get cm
NAME                    DATA   AGE
first-chart-configmap-0.1.0   2      2d19h

] helm upgrade first-chart . # 업그레이드

] kubectl get cm # Chart.yaml에 version값 변경 후 dynamically 변경 된 내용 체크
NAME                          DATA   AGE
first-chart-configmap-0.1.1   1      2s
</code></pre></div></div>

<h2 id="33-templetes-functions">3.3. <a href="https://helm.sh/docs/howto/charts_tips_and_tricks/">templetes functions</a></h2>

<h3 id="range"><a href="https://kouzie.github.io/kubernetes/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-helm-%EB%AC%B8%EB%B2%95/#range--%EC%A7%80%EC%97%AD%EB%B3%80%EC%88%98">range</a></h3>
<p>반복문</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># values.yaml
list:
  - a
  - b
  - c

# configmap.yaml
range:
  - 

# 결과
range:
  - a
  - b
  - c
</code></pre></div></div>
<p>range 에 개별편의를 위해 자체적인 지역변수 <em>$index, $key, $value</em>를 제공</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># values.yaml
list:
  - a
  - b
  - c
map:
  env: dev
  log: info

# configmap.yaml
range:
  index:
    : 
map:
    : 

# 결과
range:
  index:
    0: a
    1: b
    2: c
map:
  env: "dev"
  log: "info"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
  sizes: |-
    - 

# 결과
  sizes: |-
    - small
    - medium
    - large 
</code></pre></div></div>

<h3 id="-키워드">$ 키워드</h3>
<p>$와 :=으로 변수 할당</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: -configmap
data:
  myvalue: "Hello World"release: 
  
</code></pre></div></div>

<h3 id="with">with</h3>
<p>부모객체를 가져와 지역변수처럼 사용하는 개념으로 변수명이 복잡하거나 객체의 depth 가 깊을경우 가독성처리를 위해 사용</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
  env: 
  log: 
</code></pre></div></div>

<p>$ 키워드는 지역변수 scope 에 영향을 받지 않기 때문에 내부에서 밖에 정의해둔 변수를 참조 가능</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: -configmap
data:
  myvalue: "Hello World"
  drink: 
  food: 
  release: 
  
# 결과
apiVersion: v1
kind: ConfigMap
metadata:
  name: viable-badger-configmap
data:
  myvalue: "Hello World"
  drink: "coffee"
  food: "PIZZA"
  release: viable-badger
</code></pre></div></div>

<h3 id="pipeline-quote-upper-함수">pipeline, quote, upper 함수</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>] values.yaml
func:
  enabled: true
</code></pre></div></div>
<p>객체 사용 및 # 결과</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> # "true"
 # "true"
 # "TRUE"
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># _helpers.tpl
  labels:
    generator: helm
    date: 
</code></pre></div></div>

<h3 id="required"><a href="https://kouzie.github.io/kubernetes/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-helm-%EB%AC%B8%EB%B2%95/#required">required</a></h3>
<p>helm 명령을 통해 랜더링할 때 객체에 대한 정보가 없을경우 랜더링을 멈추고 에러를 반환시키고 싶다면 required 함수를 사용</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>value: 
</code></pre></div></div>

<h3 id="toyaml"><a href="https://kouzie.github.io/kubernetes/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-helm-%EB%AC%B8%EB%B2%95/#toyaml-indent-nindent">toyaml</a></h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># values.yaml
data:
  - a
  - b
  - c

# configmap.yaml
my:
  data:
    
    
# 결과 - 에러
my:
  data:
    - a
- b
- c

# configmap.yaml
my:
  data:

</code></pre></div></div>
<p>앞의 - 가 공백 뿐 아니라 개행까지 없애주기 때문에 구문이 어디에 위치해 있던지 상관X</p>

<h3 id="tpl"><a href="https://kouzie.github.io/kubernetes/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-helm-%EB%AC%B8%EB%B2%95/#tpl">tpl</a></h3>
<p>템플릿 구문을 해석하는 함수, 템플릿 구문 문자열을 스크립트로 실행한 결과를 반환</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># values.yaml
template: ""
name: "Tom"

# configmap.yaml
t1:  # "" # 그대로 출력
t2:  # Tom # template함수를 사용하면 템플릿 구문 문자열을 실행한 결과를 반환
</code></pre></div></div>
<p>values.yaml 에는 템플릿 구문을 사용하지 못함</p>

<h2 id="33-named_templates">3.3. <a href="https://helm.sh/docs/chart_template_guide/named_templates/">named_templates</a></h2>

<h3 id="사용자-정의-객체-_helperstpl">사용자 정의 객체 _helpers.tpl</h3>
<p>_helpers.tpl 파일에서 define 으로 시작해서 end 로 정의</p>

<h3 id="define">define</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># _helpers.tpl

  labels:
    generator: helm
    date: 
    chart: 
    version: 
</code></pre></div></div>
<p>첫 부분에 - 넣는 이유는 공백, 개행 삭제</p>

<h3 id="include"><a href="https://kouzie.github.io/kubernetes/%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-helm-%EB%AC%B8%EB%B2%95/#include">include</a></h3>
<p>정의한 템플릿을 가져오기위해 사용하는 함수<br />
첫번째 인자에는 가져오고싶은 템플릿 이름 두번째 인자에는 해당 템플릿에 적용할 객체를 넣음(만약 적용할 객체가 없다면 . 사용)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># _helper.tplv1: 
v2: 
</code></pre></div></div>

<p>객체 사용</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>include1: 

# 결과  
include1:
  v1: "value1"
  v2: "value1"
</code></pre></div></div>

<h3 id="template">template</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>


Template: 


Include:  

# 결과
Template: "  hello"

Include:    "hello"
</code></pre></div></div>

<hr />

<h1 id="4-helmfile로-관리">4. Helmfile로 관리</h1>
<p>이제껏 imperative하게 관리하던 것을 declarative하게 관리 가능</p>

<h2 id="41-helmfile-만들기">4.1. Helmfile 만들기</h2>

<hr />


  </div><a class="u-url" href="/techblog/helm/kubernetes/2023/02/10/helm.html" hidden></a>
</article>